import{F as s}from"./chunks/FoldCode.dd8b72af.js";import{o as t,c as l,J as o,E as r,V as a,C as e}from"./chunks/framework.fa42150b.js";const n="/blog/assets/debounceFilter.6b310dfb.jpeg",c="/blog/assets/watchTriggerable.d2ba3244.jpg",i=a(`<h1 id="vueuse" tabindex="-1">VueUse <a class="header-anchor" href="#vueuse" aria-label="Permalink to &quot;VueUse&quot;">​</a></h1><h2 id="shared-➜" tabindex="-1">Shared <a href="https://github.com/vueuse/vueuse/tree/main/packages/shared" target="_blank" rel="noreferrer">➜</a> <a class="header-anchor" href="#shared-➜" aria-label="Permalink to &quot;Shared [➜](https://github.com/vueuse/vueuse/tree/main/packages/shared)&quot;">​</a></h2><h3 id="computedeager" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/computedEager" target="_blank" rel="noreferrer">computedEager</a> <a class="header-anchor" href="#computedeager" aria-label="Permalink to &quot;[computedEager](https://github.com/vueuse/vueuse/tree/main/packages/shared/computedEager)&quot;">​</a></h3><ol><li>watchEffect 的第二參數的 <code>flush: sync</code> 代表同步調用。</li><li><code>watchEffect</code> 一直在檢查 <code>todo.length</code> ，但因為 <code>result</code> 是 <code>shallowRef</code> ，所以只有在 <code>!!todo.length</code> 的值發生改變時才會讓 <code>result</code> 感受到變動並更新。</li></ol><p><a href="https://sfc.vuejs.org/#eNp9kstu2zAQRX9lzI1kVI92a9hBiyLrAkW7CrNgZMpSSpEEObRRCPr3DEXZsZMgO5Jzzx3OY2Q/rK2OQbIN2/rG9RbBSwz2jut+sMYhjOBkW4DvhFLm9DueTwKb7r5tZYMFGP3X7gXKPUzQOjNARnYZ11w3RnsENHvjYRdd8ofH9fm5E/6XlfrPEkXp8acZbCCje3GQLs/XsLuD1Wrmq6NQQVZK6gN25AHAdRt0g73RH7CtXsMYVSmXkz4opCyvReRkEgVXpSwZZw4WJuUlstWRiIFoaRT9xRzy7Fs2v07FGWtV8N0GMv9fN1kxx5ZMjtrq9OLL9cT1pXPXmW/shRAxQbTY1mk8NBi6oBysIpRuANungEh9+N6ovvm34yy1zNJP0g/ZLCPvGIcvM1Mn6BMDqvrh8Q379T27Kst9f1xU43iZWJoVTFRoREhTlom4kd/swZWYFNv6UiYrWFrHchC2evZG08LO/eJLwHO2OQ+BM1rBeOesQ7R+U9e+beKaP/vKuENNp8oFjf0gK+mH8smZk5eOjDmbZ0Y9Z9ML0doLrw==" target="_blank" rel="noreferrer">⋯ Test Playground</a></p><hr><h3 id="computedwithcontrol" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/computedWithControl" target="_blank" rel="noreferrer">computedWithControl</a> <a class="header-anchor" href="#computedwithcontrol" aria-label="Permalink to &quot;[computedWithControl](https://github.com/vueuse/vueuse/tree/main/packages/shared/computedWithControl)&quot;">​</a></h3><ol><li>source 變動時 <code>computedRef</code> 可拿到新的 counter 值，否則都是舊的，若 source 沒有變動也可以透過 <code>computedRef.trigger()</code> 去強制更新。</li><li><code>dirty</code> 負責記錄是否被更新過（<code>true</code> 將重新取得 counter 的值）。</li><li><a href="https://vuejs.org/api/reactivity-advanced.html#customref" target="_blank" rel="noreferrer">customRef</a> 有兩個參數：<code>track</code> 追蹤參數、<code>trigger</code> 觸發更新。</li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible" target="_blank" rel="noreferrer">Object.isExtensible()</a> 判斷參數是否可以擴展 → 確認可以新增或修改 key / value。</li></ol><hr><h3 id="createeventhook" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/createEventHook" target="_blank" rel="noreferrer">createEventHook</a> <a class="header-anchor" href="#createeventhook" aria-label="Permalink to &quot;[createEventHook](https://github.com/vueuse/vueuse/tree/main/packages/shared/createEventHook)&quot;">​</a></h3><ol><li>on 可以掛載多個 callback function，利用 trigger 觸發更新。</li><li><a href="#tryonscopedispose">tryOnScopeDispose()</a> 判斷目前是否在 effect scope 內，是的話就執行 <code>onScopeDispose()</code>，不是的話則什麼都不做。</li><li><a href="https://vuejs.org/api/reactivity-advanced.html#onscopedispose" target="_blank" rel="noreferrer">onScopeDispose()</a> 在當前的 effect scope 上註冊一個處理 callback function，當相關的 effect scope 停止時會呼叫這個 callback function。</li><li>Component 的 setup 或 <code>scope.run()</code> 的 function 裡面就代表是在 effect scope 裡面。</li></ol><hr><h3 id="createglobalstate" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/createGlobalState" target="_blank" rel="noreferrer">createGlobalState</a> <a class="header-anchor" href="#createglobalstate" aria-label="Permalink to &quot;[createGlobalState](https://github.com/vueuse/vueuse/tree/main/packages/shared/createGlobalState)&quot;">​</a></h3><ol><li>建立一個獨立的 Scope，全域都可以存取同一份，像 Store。</li><li>effect scope 的好處是若需要停止響應性可以直接 <code>scope.stop()</code>，不需要一個一個做註銷（但這裡沒有提供此功能）</li></ol><hr><h3 id="createinjectionstate" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/createInjectionState" target="_blank" rel="noreferrer">createInjectionState</a> <a class="header-anchor" href="#createinjectionstate" aria-label="Permalink to &quot;[createInjectionState](https://github.com/vueuse/vueuse/tree/main/packages/shared/createInjectionState)&quot;">​</a></h3><ol><li><p>和 <code>createGlobalState</code> 不同之處在於創建的狀態是在 Vue 的 <code>provide</code> / <code>inject</code> 系統中共享的，因此只有在注入到具有相同依賴的範圍內時才會共享。</p></li><li><p><code>provide</code> / <code>inject</code> 可以明確地指定哪些變數是由哪些父層組件提供的，並限制這些變數的作用範圍，可以使程式碼更易於管理和理解，也可以減少不必要的全域變數。</p></li><li><p>provide / inject 和全域共享的差別：</p><ul><li>使用 <code>provide</code> / <code>inject</code>，子層要變更資料時必須透過父層提供的方法或資料屬性，然後讓父層透過 <code>provide</code> 把變更後的資料傳遞下去，才能達到資料的共享。</li><li>使用全域變數，子層可以直接存取或修改全域變數，但因為沒有明確的資料流傳遞，所以可能會出現管理上的問題。</li></ul></li><li><p><code>composable()</code> 可以組合多個響應式物件。</p><p>在某些情況下，使用 composable 可以達到類似全域共享的效果，但是它們的本質是不同的。</p></li></ol><ul><li>composable 主要是用於抽象出可重複使用的邏輯單元，這些邏輯單元可以在不同的 Vue 組件中使用，而<strong>不需要關注各自的狀態管理</strong>。（注重邏輯的抽象和可重複使用性）</li><li>全域共享主要是用於在整個應用中<strong>共享狀態</strong>，並且可以在任何組件中存取和修改這些狀態。（注重狀態的共享和可讀寫性）</li></ul><hr><h3 id="createsharedcomposable" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/createSharedComposable" target="_blank" rel="noreferrer">createSharedComposable</a> <a class="header-anchor" href="#createsharedcomposable" aria-label="Permalink to &quot;[createSharedComposable](https://github.com/vueuse/vueuse/tree/main/packages/shared/createSharedComposable)&quot;">​</a></h3><ol><li>和 <code>createGlobalState</code> 相似，差別在於 <code>createSharedComposable</code> 在沒有任何訂閱使用的情況下會做 <code>scope.stop()</code>。 再次被使用才會重新創建 effectScope。</li></ol><hr><h3 id="extendref" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/extendRef" target="_blank" rel="noreferrer">extendRef</a> <a class="header-anchor" href="#extendref" aria-label="Permalink to &quot;[extendRef](https://github.com/vueuse/vueuse/tree/main/packages/shared/extendRef)&quot;">​</a></h3><ol><li>可以對 <code>ref</code> 進行擴展，添加額外的 function 或屬性。</li><li>直接在 <code>ref.value</code> 上添加 function，可能會污染 <code>ref</code> 的原型，進而影響到其他地方的使用，因此，使用 <code>extendRef</code> 來對 <code>ref</code> 進行擴展更加地優雅和安全。</li><li><code>unwrap</code>：若值為 <code>true</code>，則 <code>extendRef</code> 函數將會將 <code>Ref</code> 物件轉換為其值，並將其設置為屬性的值；<code>false</code> 的話屬性的值將是 <code>Ref</code> 物件本身。</li><li><code>if (key === &#39;value&#39;) continue</code> ：<br>跳過 <code>extend</code> 物件中 <code>key</code> 為 <code>&#39;value&#39;</code> 的屬性。 因為 <code>Ref</code> 物件中的值是透過 <code>.value</code> 存取的，如果直接將 <code>extend</code> 物件中的 <code>value</code> 屬性設置為 <code>Ref</code> 物件的屬性會造成名稱衝突，因此需要跳過 <code>value</code> 屬性。</li><li><code>Object.defineProperty(ref, key, { get, set, enumerable })</code> ：<br> 會定義 <code>ref</code> 物件的 <code>key</code> 屬性的 getter 和 setter 方法，透過這些方法來操作 <code>Ref</code> 物件的 <code>value</code> 屬性（不需要 <code>.value</code> 就能直接取到值）。</li><li><code>Object.defineProperty(ref, key, { value, enumerable })</code>：<br> 如果 <code>unwrap</code> 被設定為 <code>false</code>，則直接將 <code>Ref</code> 物件賦值給 <code>ref</code> 物件的 <code>key</code> 屬性，訪問 <code>ref.key</code> 回傳的是 <code>Ref</code> 物件本身（需要 <code>.value</code> 才能取到值）。</li></ol><hr><h3 id="get" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/get" target="_blank" rel="noreferrer">get</a> <a class="header-anchor" href="#get" aria-label="Permalink to &quot;[get](https://github.com/vueuse/vueuse/tree/main/packages/shared/get)&quot;">​</a></h3><ol><li><code>unref()</code>：將參數轉換為普通的物件。</li><li><code>MaybeRef&lt;T&gt;</code>：接受 <code>Ref</code> 或普通值的參數。<br> 使用 <code>MaybeRef&lt;T&gt;</code> 作為類型註解的好處是，在接收參數時可以直接傳入普通值或 <code>Ref</code>。</li></ol><hr><h3 id="isdefined" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/isDefined" target="_blank" rel="noreferrer">isDefined</a> <a class="header-anchor" href="#isdefined" aria-label="Permalink to &quot;[isDefined](https://github.com/vueuse/vueuse/tree/main/packages/shared/isDefined)&quot;">​</a></h3><ol><li>用於檢查變數是否已定義（defined）。<br> 如果變數為 <code>null</code> 或 <code>undefined</code>，該函數將回傳 <code>false</code>，否則回傳 <code>true</code>。</li></ol><hr><h3 id="makedestructurable" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/makeDestructurable" target="_blank" rel="noreferrer">makeDestructurable</a> <a class="header-anchor" href="#makedestructurable" aria-label="Permalink to &quot;[makeDestructurable](https://github.com/vueuse/vueuse/tree/main/packages/shared/makeDestructurable)&quot;">​</a></h3><ol><li>將物件和陣列組合起來，使其同時具有物件和陣列的特性，並且能夠進行解構操作。</li><li><code>typeof Symbol !== &#39;undefined’</code>：確認瀏覽器是否支援 Symbol 這個資料型別。</li><li>在 <code>obj</code> 這個物件上，定義一個 <code>Symbol.iterator</code> 屬性，並指定一個回傳迭代器物件的函式（陣列有此屬性，但物件沒有），當這個物件被迭代時，就會依次回傳 <code>arr</code> 陣列中的值。</li><li>當程式碼使用 <code>for...of</code> 迴圈來迭代物件時，它會尋找該物件的 <code>Symbol.iterator</code> 屬性，所以為了讓物件能夠被 <code>for...of</code> 迴圈正確地迭代，需要為物件加上 <code>Symbol.iterator</code> 屬性。</li><li>最後將 <code>obj</code> 和 <code>arr</code> 合併成一個新的物件並回傳。</li></ol><hr><h3 id="reactify" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/reactify" target="_blank" rel="noreferrer">reactify</a> <a class="header-anchor" href="#reactify" aria-label="Permalink to &quot;[reactify](https://github.com/vueuse/vueuse/tree/main/packages/shared/reactify)&quot;">​</a></h3><ol><li>將普通的函数轉換為具有響應式特性的函數。<br> 這些轉換後的函數可以接受 refs 作為參數，並回傳一個 ComputedRef 物件，可以訪問和監聽該物件的值的變化。</li><li><code>unref</code>：將 Ref 物件轉換為普通物件，如果傳入的參數不是 Ref 物件，則直接回傳該值。</li><li><code>toValue</code>：傳入的參數是 function（getter）的話會執行，不是的話會做 <code>unref</code>。</li><li><code>args.map(i =&gt; unrefFn(i))</code>：將所有參數 <code>map</code> 成普通值。</li><li><code>fn.apply(thisArg, [argsArray])</code>：<br><code>fn</code> 是要調用的函數，<code>thisArg</code> 是函數執行時的 <code>this</code> 上下文，而 <code>argsArray</code> 則是傳遞給函數的參數陣列。</li><li><code>computed(() =&gt; fn.apply(this, args.map(i =&gt; unrefFn(i))))</code>：<br> 將參數做轉為普通物件才能讓原本的 <code>fn</code> 取到值並正常執行，而因為 computed 內部還是有用到 <code>unrefFn(i)</code>，對 computed 來說 <code>i</code> 仍然會被搜集到響應性的依賴，所以當 <code>i</code> 發生變化時，將會促使 computed 下次被取值時需要重新計算。</li></ol><hr><h3 id="reactifyobject" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/reactifyObject" target="_blank" rel="noreferrer">reactifyObject</a> <a class="header-anchor" href="#reactifyobject" aria-label="Permalink to &quot;[reactifyObject](https://github.com/vueuse/vueuse/tree/main/packages/shared/reactifyObject)&quot;">​</a></h3><ol><li>如果屬性的值是一個函數，則使用 reactify 函數將其轉換為響應式函數。</li><li><code>Object.getOwnPropertyNames</code>：回傳一個陣列，其中包含物件自身所有屬性的名稱，包括不可列舉的屬性。</li><li><code>Object.keys</code>：回傳一個陣列，其中僅包含物件自身的所有可列舉屬性的名稱。</li></ol><hr><h3 id="reactivecomputed" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/reactiveComputed" target="_blank" rel="noreferrer">reactiveComputed</a> <a class="header-anchor" href="#reactivecomputed" aria-label="Permalink to &quot;[reactiveComputed](https://github.com/vueuse/vueuse/tree/main/packages/shared/reactiveComputed)&quot;">​</a></h3><ol><li>Computed reactive 物件。<br> 回傳的是一個 <code>reactive</code> 物件，而不是像 <code>computed</code> 回傳的 <code>ref</code> 物件。 （不需要 <code>.value</code> 取值）</li></ol><hr><h3 id="reactiveomit" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/reactiveOmit" target="_blank" rel="noreferrer">reactiveOmit</a> <a class="header-anchor" href="#reactiveomit" aria-label="Permalink to &quot;[reactiveOmit](https://github.com/vueuse/vueuse/tree/main/packages/shared/reactiveOmit)&quot;">​</a></h3><ol><li>從一個響應式物件中響應式地省略字段。</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">reactive</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">reactiveOmit</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">@vueuse/core</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> obj </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactive</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">x</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">y</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">elementX</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">elementY</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> picked </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">reactiveOmit</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">x</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">elementX</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(picked)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Proxy {}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(JSON</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">stringify</span><span style="color:#A6ACCD;">(picked))</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// {&quot;y&quot;: 0, &quot;elementY&quot;: 0}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(picked</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">y)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(obj)</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// Proxy {x: 0, y: 0, elementX: 0, elementY: 0}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-html line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  {{ picked }} </span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;font-style:italic;">&lt;!-- { &quot;y&quot;: 0, &quot;elementY&quot;: 0 } --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="2"><li><code>Array.flat([depth])</code>：將一個多維陣列扁平化成新的一維陣列，參數可以指定展開的深度，預設為 1。</li><li><code>Object.entries()</code>：直接取得所有屬性的 key 和 value，並以 Tuple 的陣列回傳。</li><li><code>Object.fromEntries()</code>：將 key-value 的 Tuple 陣列轉換為物件。</li><li><code>toRefs(reactiveObj)</code>：會將 <code>reactiveObj</code> 轉換為一個物件，而物件內所有 <code>value</code> 轉為 <code>ref</code>。 <code>ref</code> 是響應式的，可以讓 <code>reactiveComputed</code> 在需要時更新新物件的值。</li></ol><hr><h3 id="reactivepick" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/reactivePick" target="_blank" rel="noreferrer">reactivePick</a> <a class="header-anchor" href="#reactivepick" aria-label="Permalink to &quot;[reactivePick](https://github.com/vueuse/vueuse/tree/main/packages/shared/reactivePick)&quot;">​</a></h3><ol><li>從一個響應式物件中響應式地選擇字段。</li><li><code>UnwrapRef&lt;T&gt;</code>：對 Ref 型別做分解。 如果 T 是 Ref 型別，則 UnwrapRef 型別為 ref.value 的型別。 如果 T 不是 Ref 型別，則 UnwrapRef 型別為 T。</li><li><a href="https://vuejs.org/api/reactivity-utilities.html#toref" target="_blank" rel="noreferrer">toRef()</a>：可用於將一個響應式物件（ref）的某個屬性轉換為一個獨立的響應式物件。</li><li>基本上與 <code>reactiveOmit</code> 相似，只是反過來。</li></ol><hr><h3 id="refautoreset" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/refAutoReset" target="_blank" rel="noreferrer">refAutoReset</a> <a class="header-anchor" href="#refautoreset" aria-label="Permalink to &quot;[refAutoReset](https://github.com/vueuse/vueuse/tree/main/packages/shared/refAutoReset)&quot;">​</a></h3><ol><li>建立一個可透過參數指定時間（ms），並在時間到後重置為默認值的 ref。</li></ol><hr><h3 id="refdebounced" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/refDebounced" target="_blank" rel="noreferrer">refDebounced</a> <a class="header-anchor" href="#refdebounced" aria-label="Permalink to &quot;[refDebounced](https://github.com/vueuse/vueuse/tree/main/packages/shared/refDebounced)&quot;">​</a></h3><ol><li>（Debounce）延遲更新 ref 值，在參數指定時間過後 ref 值的更新才會執行。</li><li>利用 <a href="#usedebouncefn">useDebounceFn()</a> 將更新值的動作延遲到指定時間結束後。</li></ol><hr><h3 id="refdefault" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/refDefault" target="_blank" rel="noreferrer">refDefault</a> <a class="header-anchor" href="#refdefault" aria-label="Permalink to &quot;[refDefault](https://github.com/vueuse/vueuse/tree/main/packages/shared/refDefault)&quot;">​</a></h3><ol><li>給 ref 定義預設值（當 <code>ref.value = undefined | null</code> 時會 <code>get()</code> 會取得預設值）。</li><li>回傳 <code>computed</code>，將 <code>get()</code> 內部做處理判斷。</li></ol><hr><h3 id="refthrottled" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/refThrottled" target="_blank" rel="noreferrer">refThrottled</a> <a class="header-anchor" href="#refthrottled" aria-label="Permalink to &quot;[refThrottled](https://github.com/vueuse/vueuse/tree/main/packages/shared/refThrottled)&quot;">​</a></h3><ol><li>（Throttle）限制 ref 值的更新次數。</li><li><code>leading</code>：指定呼叫在 throttle 開始前。</li><li><code>trailing</code>：指定呼叫在 throttle 結束後。</li></ol><hr><h3 id="refwithcontrol" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/refWithControl" target="_blank" rel="noreferrer">refWithControl</a> <a class="header-anchor" href="#refwithcontrol" aria-label="Permalink to &quot;[refWithControl](https://github.com/vueuse/vueuse/tree/main/packages/shared/refWithControl)&quot;">​</a></h3><ol><li>利用 <code>extendRef</code> 提供了兩個額外的函數 <code>get</code> 和 <code>set</code>，以更好地控制何時 track / trigger 響應性。</li><li>不會觸發響應性的 getter</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> foo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">refWithControl</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">get</span><span style="color:#A6ACCD;">(</span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">untrackedGet</span><span style="color:#A6ACCD;">()</span></span>
<span class="line"><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">peek</span><span style="color:#A6ACCD;">()</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="3"><li>不會觸發響應性的 setter</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> foo </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">refWithControl</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">foo</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#FF9CAC;">false</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">silentSet</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"><span style="color:#A6ACCD;">foo</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">lay</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">bar</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="4"><li><code>onBeforeChange()</code>：可以控制是否接受新的值。（拒絕就 <code>return false</code>）</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> num </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">refWithControl</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">onBeforeChange</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#A6ACCD;">Math</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">abs</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">-</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">oldValue</span><span style="color:#F07178;">) </span><span style="color:#89DDFF;">&gt;</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">5</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#F07178;"> </span><span style="color:#FF9CAC;">false</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ol start="5"><li><code>onChanged()</code>：與 Vue 的 <code>watch</code> 相似，但它的同步開銷更少。</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> num </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">refWithControl</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">onChanged</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">value</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">oldValue</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">value</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ol start="6"><li><code>options.onBeforeChange?.(value, old)</code> 先判斷 <code>onBeforeChange</code> 是否為 <code>undefined | null</code>，若不是再進一步調用函數（和參數之間要加 <code>.</code>）。</li></ol><hr><h3 id="resolveref" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/resolveRef" target="_blank" rel="noreferrer">resolveRef</a> <a class="header-anchor" href="#resolveref" aria-label="Permalink to &quot;[resolveRef](https://github.com/vueuse/vueuse/tree/main/packages/shared/resolveRef)&quot;">​</a></h3><ol><li>將 value、ref 或 getter 規範化為 <code>ref</code> 或 <code>computed</code>。</li><li>判斷傳進的參數是否為 function，是的話回傳 computed，否則回傳 ref。</li></ol><hr><h3 id="tovalue" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/toValue" target="_blank" rel="noreferrer">toValue</a> <a class="header-anchor" href="#tovalue" aria-label="Permalink to &quot;[toValue](https://github.com/vueuse/vueuse/tree/main/packages/shared/toValue)&quot;">​</a></h3><ol><li>原本名稱是 <code>resolveUnref</code>。</li><li>取得 value、ref、getter 的值。</li><li>判斷傳進的參數是否為 function（Getter），是的話回傳執行的結果，否則回傳 <code>unref()</code> 的結果。</li></ol><hr><h3 id="set" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/set" target="_blank" rel="noreferrer">set</a> <a class="header-anchor" href="#set" aria-label="Permalink to &quot;[set](https://github.com/vueuse/vueuse/tree/main/packages/shared/set)&quot;">​</a></h3><ol><li><code>ref.value = x</code> 的簡寫。</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(ref</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> x) </span><span style="color:#676E95;font-style:italic;">// ref</span></span>
<span class="line"><span style="color:#82AAFF;">set</span><span style="color:#A6ACCD;">(obj</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> key</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> x) </span><span style="color:#676E95;font-style:italic;">// object</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol start="2"><li>透過參數數量判斷要更新的值是 ref 或是 object。</li></ol><hr><h3 id="syncref" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/syncRef" target="_blank" rel="noreferrer">syncRef</a> <a class="header-anchor" href="#syncref" aria-label="Permalink to &quot;[syncRef](https://github.com/vueuse/vueuse/tree/main/packages/shared/syncRef)&quot;">​</a></h3><ol><li>可以實現雙向引用（two-way refs）的同步，將兩個 <code>Ref</code> 物件之間的變更同步，也可以透過參數更改成單向同步。</li><li>回傳值是可以取消監聽器的函式。</li><li>使用 <code>watch</code> 而不是 <code>computed</code> 的好處是有更多客製化的選項，包含：<code>flush</code>、<code>deep</code>、<code>immediate</code>。</li></ol><hr><h3 id="syncrefs" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/syncRefs" target="_blank" rel="noreferrer">syncRefs</a> <a class="header-anchor" href="#syncrefs" aria-label="Permalink to &quot;[syncRefs](https://github.com/vueuse/vueuse/tree/main/packages/shared/syncRefs)&quot;">​</a></h3><ol><li>讓 target ref（多個可寫成陣列）的值與 source ref 的值保持同步。</li><li>target 在傳入的時候若不是陣列（單個）會先另外放在陣列內，透過 forEach 將 source 的新值去賦值給每項 <code>target.value</code>。</li><li>回傳值是可以取消監聽器的函式。</li></ol><hr><h3 id="toreactive" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/toReactive" target="_blank" rel="noreferrer">toReactive</a> <a class="header-anchor" href="#toreactive" aria-label="Permalink to &quot;[toReactive](https://github.com/vueuse/vueuse/tree/main/packages/shared/toReactive)&quot;">​</a></h3><ol><li>將 ref 轉換為 reactive，還可以創建一個可替換的 reactive 物件。</li></ol><hr><h3 id="torefs" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/toRefs" target="_blank" rel="noreferrer">toRefs</a> <a class="header-anchor" href="#torefs" aria-label="Permalink to &quot;[toRefs](https://github.com/vueuse/vueuse/tree/main/packages/shared/toRefs)&quot;">​</a></h3><ol><li>可以將普通或具響應性的物件、陣列等的最外層都轉換成 ref 以方便解構使用。</li><li>若傳入的參數不是 ref（普通的物件、陣列或 reactive），直接回傳 <a href="https://vuejs.org/api/reactivity-utilities.html#torefs" target="_blank" rel="noreferrer">toRef()</a> 的結果。</li><li>若傳入的參數是 ref，則不管是物件或是陣列都將最外層的每一項做 <code>customRef()</code>。</li><li>每一項的 <code>get()</code> 和 <code>set()</code> 都是從 objectRef 去取得或是藉由重新賦值去觸發 objectRef 的響應的。（也因此不需手動添加 <code>track()</code> 和 <code>trigger()</code>）</li></ol><hr><h3 id="tryonbeforemount" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnBeforeMount" target="_blank" rel="noreferrer">tryOnBeforeMount</a> <a class="header-anchor" href="#tryonbeforemount" aria-label="Permalink to &quot;[tryOnBeforeMount](https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnBeforeMount)&quot;">​</a></h3><ol><li>如果在 component 的生命週期內，呼叫 <code>onBeforeMount</code>；不是則單純執行參數 function。</li><li><code>onBeforeMount</code>：負責處理在 component 初次渲染之前需要完成的操作。<br> 調用的時機點為 component 已經完成設置其響應性狀態，但還沒有創建任何 DOM 節點，即將第一次地執行其 DOM 渲染效果。</li></ol><hr><h3 id="tryonbeforeunmount" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnBeforeUnmount" target="_blank" rel="noreferrer">tryOnBeforeUnmount</a> <a class="header-anchor" href="#tryonbeforeunmount" aria-label="Permalink to &quot;[tryOnBeforeUnmount](https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnBeforeUnmount)&quot;">​</a></h3><ol><li>如果在 component 的生命週期內，呼叫 <code>onBeforeUnmount</code>；不是則什麼都不做。</li><li><code>onBeforeUnmount</code>：調用時機為當 component instance 即將被卸載時（仍可使用）。</li></ol><hr><h3 id="tryonmounted" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnMounted" target="_blank" rel="noreferrer">tryOnMounted</a> <a class="header-anchor" href="#tryonmounted" aria-label="Permalink to &quot;[tryOnMounted](https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnMounted)&quot;">​</a></h3><ol><li>如果在 component 的生命週期內，呼叫 <code>onMounted</code>；不是則單純執行參數 function。</li><li><code>onMounted</code>：調用時機為 component 被掛載後。</li></ol><p><b>掛載的條件為</b><br></p><ul><li>所有同步子元件都已經被掛載（不包括異步元件或在 <code>&lt;Suspense&gt;</code> 樹中的元件）。</li><li>自身的 DOM 樹已經被創建並插入到父容器中。（如果應用程式的根容器也在 document 中，則只保證元件的 DOM 樹在 document 中。）</li></ul><hr><h3 id="tryonscopedispose" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnScopeDispose" target="_blank" rel="noreferrer">tryOnScopeDispose</a> <a class="header-anchor" href="#tryonscopedispose" aria-label="Permalink to &quot;[tryOnScopeDispose](https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnScopeDispose)&quot;">​</a></h3><ol><li>如果在 effect scope 內就執行 <code>onScopeDispose()</code>，不是的話則什麼都不做。</li><li><code>onScopeDispose</code>：註冊一個 dispose callback 在當前的 effect scope 上，調用時機為相關的 effect scope 被停止時。</li></ol><hr><h3 id="tryonunmounted" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnUnmounted" target="_blank" rel="noreferrer">tryOnUnmounted</a> <a class="header-anchor" href="#tryonunmounted" aria-label="Permalink to &quot;[tryOnUnmounted](https://github.com/vueuse/vueuse/tree/main/packages/shared/tryOnUnmounted)&quot;">​</a></h3><ol><li>如果在 component 的生命週期內就執行 <code>onUnmounted()</code>，不是的話則什麼都不做。</li><li><code>onUnmounted</code>：調用時機為 component 被卸載後。</li></ol><p><b>卸載的條件為</b></p><ul><li>所有子元件都被卸載。</li><li>所有相關的 reactive effects（渲染效果、在 setup 中所註冊的 computed 或 watchers）都被停止。</li></ul><hr><h3 id="until" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/until" target="_blank" rel="noreferrer">until</a> <a class="header-anchor" href="#until" aria-label="Permalink to &quot;[until](https://github.com/vueuse/vueuse/tree/main/packages/shared/until)&quot;">​</a></h3><ol><li>一次性的觀察變化（Promise）。</li><li>function <code>toBe</code> 的 <code>[v1, v2]</code> 指的是 <code>r</code> 和 <code>value</code>。</li></ol><hr><h3 id="usearrayevery" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayEvery" target="_blank" rel="noreferrer">useArrayEvery</a> <a class="header-anchor" href="#usearrayevery" aria-label="Permalink to &quot;[useArrayEvery](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayEvery)&quot;">​</a></h3><ol><li>響應性的 <code>Array.every</code>。</li><li><code>Array.every</code> 的型別是</li></ol><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">T</span><span style="color:#89DDFF;">&gt;.</span><span style="color:#82AAFF;">every</span><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">	predicate: </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;font-style:italic;">element</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">index</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">number</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;font-style:italic;">array</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">T</span><span style="color:#A6ACCD;">[]</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> unknown</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	thisArg</span><span style="color:#89DDFF;">?:</span><span style="color:#A6ACCD;"> any</span></span>
<span class="line"><span style="color:#A6ACCD;">): boolean</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>所以傳入 <code>useArrayEvery</code> 的 <code>fn</code> 型別是 <code>Array.every</code> 的 <code>predicate</code> 型別。</p><ol start="3"><li>在傳入 <code>fn</code> 參數時，是 callback function，不限制有幾項參數。</li><li><code>i</code> 拿到的值為第一項（<code>element</code>）。</li></ol><hr><h3 id="usearrayfilter" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFilter" target="_blank" rel="noreferrer">useArrayFilter</a> <a class="header-anchor" href="#usearrayfilter" aria-label="Permalink to &quot;[useArrayFilter](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFilter)&quot;">​</a></h3><ol><li>響應性的 <code>Array.filter</code>。</li></ol><hr><h3 id="usearrayfind" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFind" target="_blank" rel="noreferrer">useArrayFind</a> <a class="header-anchor" href="#usearrayfind" aria-label="Permalink to &quot;[useArrayFind](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFind)&quot;">​</a></h3><ol><li>響應性的 <code>Array.find</code>。</li></ol><hr><h3 id="usearrayfindindex" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFindIndex" target="_blank" rel="noreferrer">useArrayFindIndex</a> <a class="header-anchor" href="#usearrayfindindex" aria-label="Permalink to &quot;[useArrayFindIndex](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFindIndex)&quot;">​</a></h3><ol><li>響應性的 <code>Array.findIndex</code>。</li></ol><hr><h3 id="usearrayfindlast" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFindLast" target="_blank" rel="noreferrer">useArrayFindLast</a> <a class="header-anchor" href="#usearrayfindlast" aria-label="Permalink to &quot;[useArrayFindLast](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayFindLast)&quot;">​</a></h3><ol><li>響應性的 <code>Array.findLast</code>。</li><li><code>!Array.prototype.findLast</code>：判斷版本是否有支援 <code>findLast</code>。</li></ol><hr><h3 id="usearrayjoin" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayJoin" target="_blank" rel="noreferrer">useArrayJoin</a> <a class="header-anchor" href="#usearrayjoin" aria-label="Permalink to &quot;[useArrayJoin](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayJoin)&quot;">​</a></h3><ol><li>響應性的 <code>Array.join</code></li></ol><hr><h3 id="usearraymap" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayMap" target="_blank" rel="noreferrer">useArrayMap</a> <a class="header-anchor" href="#usearraymap" aria-label="Permalink to &quot;[useArrayMap](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayMap)&quot;">​</a></h3><ol><li>響應性的 <code>Array.map</code></li></ol><hr><h3 id="usearrayreduce" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayReduce" target="_blank" rel="noreferrer">useArrayReduce</a> <a class="header-anchor" href="#usearrayreduce" aria-label="Permalink to &quot;[useArrayReduce](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayReduce)&quot;">​</a></h3><ol><li>響應式的 <code>Array.reduce</code>。</li><li><code>MaybeRefOrGetter&lt;MaybeRefOrGetter&lt;T&gt;[]&gt;</code> 代表 <code>MaybeRefOrGetter</code> 的陣列裡每一項都是 <code>MaybeRefOrGetter</code>。<br><code>type MaybeRefOrGetter&lt;T&gt; = MaybeReadonlyRef&lt;T&gt; | MaybeRef&lt;T&gt;</code></li><li>Type <code>UseArrayReducer</code> 是 <code>Array.reduce</code> 第一個參數的型別：</li></ol><div class="language-typescript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#A6ACCD;">(</span></span>
<span class="line"><span style="color:#A6ACCD;">	previousValue: PV</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	currentValue: CV</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">	currentIndex: number</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#89DDFF;">	</span><span style="color:#676E95;font-style:italic;">// array: T[]</span></span>
<span class="line"><span style="color:#A6ACCD;">) </span><span style="color:#C792EA;">=&gt;</span><span style="color:#A6ACCD;"> R</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><hr><h3 id="usearraysome" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArraySome" target="_blank" rel="noreferrer">useArraySome</a> <a class="header-anchor" href="#usearraysome" aria-label="Permalink to &quot;[useArraySome](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArraySome)&quot;">​</a></h3><ol><li>響應式的 <code>Array.some</code>。</li><li>如果直接寫 <code>some(fn)</code> 就不能將每次迭代的 <code>element</code> 先做 <code>toValue</code> 了。</li><li><code>fn(toValue(element), index, array)</code> 應該會拿到原本該回傳的 boolean。</li></ol><hr><h3 id="usearrayunique" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayUnique" target="_blank" rel="noreferrer">useArrayUnique</a> <a class="header-anchor" href="#usearrayunique" aria-label="Permalink to &quot;[useArrayUnique](https://github.com/vueuse/vueuse/tree/main/packages/shared/useArrayUnique)&quot;">​</a></h3><ol><li>響應式的陣列且內部元素不重複。</li><li>若為物件陣列可以自定義判別式。</li></ol><hr><h3 id="usecounter" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useCounter" target="_blank" rel="noreferrer">useCounter</a> <a class="header-anchor" href="#usecounter" aria-label="Permalink to &quot;[useCounter](https://github.com/vueuse/vueuse/tree/main/packages/shared/useCounter)&quot;">​</a></h3><ol><li>附有功能的基本計數器。</li></ol><hr><h3 id="usedateformat" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useDateFormat" target="_blank" rel="noreferrer">useDateFormat</a> <a class="header-anchor" href="#usedateformat" aria-label="Permalink to &quot;[useDateFormat](https://github.com/vueuse/vueuse/tree/main/packages/shared/useDateFormat)&quot;">​</a></h3><ol><li>根據傳遞的令牌字符串（e.g. <code>YYYY-MM-DD</code>）獲取格式化的日期。</li><li><code>[]</code> 包起來的字串不會被解析成日期（因為：<code>\\[([^\\]]+)]</code>）<br> 可以拆成這樣看： <span style="color:#e8cb25;font-weight:bold;">\\[</span> <span style="color:#e86325;font-weight:bold;">(</span> <span style="color:#03823a;font-weight:bold;">[^</span> <span style="color:#e8cb25;font-weight:bold;">\\]</span> <span style="color:#03823a;font-weight:bold;">]</span> <span style="">+</span> <span style="color:#e86325;font-weight:bold;">)</span> <span style="color:#e8cb25;font-weight:bold;">]</span></li><li>利用正則匹配和 replace 將字串轉換成日期。</li><li><code>!/Z$/i.test(date)</code> 的用意是排除不需要做時區轉換的字串。（最後面如果是 <code>Z</code>  就代表 <code>UTC +0</code> 時區。）</li><li><code>date.match(REGEX_PARSE)</code> 將字串透過正則匹配回傳拆分完的陣列。</li></ol><div class="language-javascript line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> REGEX_PARSE </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;font-style:italic;">^</span><span style="color:#89DDFF;">(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">{4})[</span><span style="color:#C3E88D;">-/</span><span style="color:#89DDFF;">]?(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">{1,2})?[</span><span style="color:#C3E88D;">-/</span><span style="color:#89DDFF;">]?(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">{0,2})[</span><span style="color:#C3E88D;">Tt\\s</span><span style="color:#89DDFF;">]*(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">{1,2})?</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">?(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">{1,2})?</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">?(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">{1,2})?[</span><span style="color:#C3E88D;">.:</span><span style="color:#89DDFF;">]?(</span><span style="color:#C3E88D;">\\d</span><span style="color:#89DDFF;">+)?</span><span style="color:#89DDFF;font-style:italic;">$</span><span style="color:#89DDFF;">/</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> date </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">2000/11/23 15:23:38:34</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">match</span><span style="color:#A6ACCD;">(REGEX_PARSE)</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// [ &quot;2000/11/23 15:23:38:34&quot;, &quot;2000&quot;, &quot;11&quot;, &quot;23&quot;, &quot;15&quot;, &quot;23&quot;, &quot;38&quot;, &quot;34&quot; ]</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ol start="6"><li><code>str.substring(indexStart[, indexEnd])</code> 回傳一個字串從 <code>indexStart</code> 到 <code>indexEnd</code> 前一項，或最後一項。</li></ol><hr><h3 id="usedebouncefn" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useDebounceFn" target="_blank" rel="noreferrer">useDebounceFn</a> <a class="header-anchor" href="#usedebouncefn" aria-label="Permalink to &quot;[useDebounceFn](https://github.com/vueuse/vueuse/tree/main/packages/shared/useDebounceFn)&quot;">​</a></h3><ol><li>（Debounce）延遲執行一個函數。</li><li><code>maxWait</code>：延遲的最大時間（ms），若都沒有達成調用則時限到必定調用一次。</li><li><code>rejectOnCancel</code>：設置選項 <code>rejectOnCancel: true</code> 才能 <code>catch</code> 到 Promise 被拒絕。（決定 <code>lastRejector()</code> 是執行 <code>resolve</code> 還是 <code>reject</code>） 預設情況函數若被取消，Promise 不會被拒絕。</li><li><code>createFilterWrapper()</code> 會回傳一個回傳 Promise 的 function 。</li><li><code>debounceFilter()</code>：</li></ol>`,165),p=e("p",null,[e("img",{src:n,alt:""})],-1),u=a('<hr><h3 id="useinterval" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useInterval" target="_blank" rel="noreferrer">useInterval</a> <a class="header-anchor" href="#useinterval" aria-label="Permalink to &quot;[useInterval](https://github.com/vueuse/vueuse/tree/main/packages/shared/useInterval)&quot;">​</a></h3><ol><li>響應性計數器（根據時間間隔增加）。</li><li><code>controls: exposeControls = false</code> 將 <code>controls</code> 取別名 <code>exposeControls</code>，預設為 <code>false</code>。</li></ol><hr><h3 id="useintervalfn" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useIntervalFn" target="_blank" rel="noreferrer">useIntervalFn</a> <a class="header-anchor" href="#useintervalfn" aria-label="Permalink to &quot;[useIntervalFn](https://github.com/vueuse/vueuse/tree/main/packages/shared/useIntervalFn)&quot;">​</a></h3><ol><li>具控制功能的 <code>setInterval</code> 封裝程式。</li><li><a href="https://github.com/vueuse/vueuse/blob/main/packages/shared/utils/is.ts" target="_blank" rel="noreferrer">isClient</a>：<code>typeof window !== &#39;undefined&#39;</code></li></ol><hr><h3 id="uselastchanged" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useLastChanged" target="_blank" rel="noreferrer">useLastChanged</a> <a class="header-anchor" href="#uselastchanged" aria-label="Permalink to &quot;[useLastChanged](https://github.com/vueuse/vueuse/tree/main/packages/shared/useLastChanged)&quot;">​</a></h3><ol><li>記錄最後一次更改的時間戳。</li><li>內部以 <code>watch</code> 實作。</li></ol><hr><h3 id="usethrottlefn" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useThrottleFn" target="_blank" rel="noreferrer">useThrottleFn</a> <a class="header-anchor" href="#usethrottlefn" aria-label="Permalink to &quot;[useThrottleFn](https://github.com/vueuse/vueuse/tree/main/packages/shared/useThrottleFn)&quot;">​</a></h3><ol><li>限制函數的執行。 對於限制處理程序在調整大小和滾動等事件上的執行速度特別有用。</li><li><code>trailing</code>：若為 <code>true</code>，將會在 <code>ms</code> 時間結束後再次調用 <code>fn</code>。</li><li><code>leading</code>：若為 <code>true</code>，則在 <code>ms</code> 時間結束前一刻調用 <code>fn</code>。</li><li><code>rejectOnCancel</code>：若為 <code>true</code>，如果已取消的話將拒絕最後一次呼叫。</li></ol><p><a href="https://play.vueuse.org/#N4IgDghgxg1hDmBTAziAXAbVAOwgW0XRADcBXRAWgBNE8BLEAGhGQHtSAnKQtEU7MDHhMQNZFA50wAFzqtsRAGrkABABFadFQAoAFhAA2AMxV1sKgGIdE2KLoCUp5CogqaxRAdZgz8FaVkDOmkATxcDLwB3ZxD2FWlWFUjJaUQVAFVsOg8OZEMVZTSAGToAIw4ISRQVI1YOAtUAJhUAMhUAZhFOAyJdaWkwZDQAemH+QXgAOihWPGGyShp6YaDS4bMaAA9JvAArVABfRhx8HhAAAQXSZERh5H1rKhE2Tm4icaERMQkpWXkiADKD0QVAaiHSN38gWCdBQky6HB6vD6AyGow+Uxmc0u5Gut3ulRB5wAnJMAAzk9bYLY7fYgI4nAhEHGIPHDGbWZ7sLhnDFfFA-GRyBS8ADCrAiiCgf3MrBMKBu2Fk+UKKnFeDArGQMPkGWhshQCKRIBRgxGYwEQmms2GLLZHMQJPJlI2iG2e0OAF1mEY6AZDWhQABBMBgSYLdCgVIagwQVJEAA8VGyAB1zCp4JIqABeFMgAB+NSiFBmBgzEDAFAALHm0yoVGBY9xcyAZkqbNISx3EPVgrRkF32xxa+ndC3xNYbCP67UlS28PJWNOVAA+OsqBPiurJ3CpFSx0qeFsADTzKjQxEM5BbpDAVDjINPIBUwzX6c3rG3Zgf+4gh4MLYAJpnheV6IDed4PlQwHPq+65JtkK7AMA-iQakoIHAcCbDMmxBvthuErs8grSEQdAanU0gqCh1hGIwSRxnYKgHDUHCzCoADkCwcWm5GahwVEoXiACy7A3PReIACq6Gx-T+hY5gsUYbF4Jxdo3OydSIDxWQUQJaqfhwO4-sp7EcZMwxbkZ36pOG5A6WmbbIIJKibPRYQsdm-g3KJeLaPYjnyM5qH3uhx4qF5tHaGSAW2EFVG3qFIKARFKhRTFgXYMFiVQal6WxZlwXSDJrBySCCmpVJJVlQp2j+RFK7UeuOVheGYGpdsl4GOQzVoclbXdWkXkhANPXpi1IKjWkADUXkAIxpkcKhzQArGSZL0UYhjifEHDkAV2CRIxujaBgbkqCE3o6I42aNcA67FbJ0j+lQtWxQcsX0swVnGbZEaBiA0aNg+ia4eus7SPOi7LqU8AtkE8B9BQa1km4lQwGg94cDAyPrcuRj+psLaFqWy6pJskN5twQ7LmALaNDD249i2bH8DQVAjm+9YJsgkDmOTlMgFWmwGHmSEoV1qiYdhvMQNgXMbrL-NuoLyCqVjGMI0jxLrWj2NoN40DBCEuNnngLadgzIArr5kLIb+-7MVhdx8-hOGIcRkgyEQNC+tgiAAApsYM2j3emB6eGgKgAtIkjYPAjDrpLiBRwAcqQeCHhwifYB99KYUAA" target="_blank" rel="noreferrer">⋯ Test Playground</a></p><hr><h3 id="usetimeout" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useTimeout" target="_blank" rel="noreferrer">useTimeout</a> <a class="header-anchor" href="#usetimeout" aria-label="Permalink to &quot;[useTimeout](https://github.com/vueuse/vueuse/tree/main/packages/shared/useTimeout)&quot;">​</a></h3><ol><li>控制在給定的時間後更新 value。</li><li>使用到 <code>useTimeoutFn</code>，並回傳 <code>ready</code> 表示是否完成更新。</li></ol><hr><h3 id="usetimeoutfn" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useTimeoutFn" target="_blank" rel="noreferrer">useTimeoutFn</a> <a class="header-anchor" href="#usetimeoutfn" aria-label="Permalink to &quot;[useTimeoutFn](https://github.com/vueuse/vueuse/tree/main/packages/shared/useTimeoutFn)&quot;">​</a></h3><ol><li>指定 <code>cb</code> 在 <code>interval</code> 後再執行，計時時間內 <code>isPending = true</code>。</li></ol><hr><h3 id="usetonumber" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useToNumber" target="_blank" rel="noreferrer">useToNumber</a> <a class="header-anchor" href="#usetonumber" aria-label="Permalink to &quot;[useToNumber](https://github.com/vueuse/vueuse/tree/main/packages/shared/useToNumber)&quot;">​</a></h3><ol><li>響應性地轉換字串 ref 為數字。</li></ol><hr><h3 id="usetostring" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useToString" target="_blank" rel="noreferrer">useToString</a> <a class="header-anchor" href="#usetostring" aria-label="Permalink to &quot;[useToString](https://github.com/vueuse/vueuse/tree/main/packages/shared/useToString)&quot;">​</a></h3><ol><li>響應性地使用 <code>${ }</code> 將 ref 的 value 轉換成字串。</li></ol><hr><h3 id="usetoggle" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/useToggle" target="_blank" rel="noreferrer">useToggle</a> <a class="header-anchor" href="#usetoggle" aria-label="Permalink to &quot;[useToggle](https://github.com/vueuse/vueuse/tree/main/packages/shared/useToggle)&quot;">​</a></h3><ol><li>Boolean 切換器。</li><li>若參數傳進 ref，會回傳 toggle function。</li><li>為了預防 <code>$event</code> 擔任第一參數蓋掉 value，寫成 <code>useToggle()</code> 以保證無參數傳入。</li><li><code>vue-demi</code>：為 Vue 2 和 Vue 3 所創建的通用函式庫。</li><li><code>isRef</code>：檢查參數值是否為 ref 物件。</li></ol><hr><h3 id="watcharray" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchArray" target="_blank" rel="noreferrer">watchArray</a> <a class="header-anchor" href="#watcharray" aria-label="Permalink to &quot;[watchArray](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchArray)&quot;">​</a></h3><ol><li>watch 陣列的添加和刪除。</li><li>類似 watch，但會將新增和移除的元素提供給 callback function。如果陣列透過 <code>push</code>、<code>splice</code> 等方式作更新，將會傳遞 <code>{ deep: true }</code>。</li><li><code>type WatchSource&lt;T = any&gt; = Ref&lt;T&gt; | ComputedRef&lt;T&gt; | (() =&gt; T)</code></li><li><code>oldListRemains</code>：用來記錄陣列值的差異，<code>false</code> 表示這項值並不是新舊陣列都存在（可能是新增或是刪除了），<code>true</code> 則代表新舊陣列皆有（沒有變動）。</li><li><code>found</code>：用來記錄是否為新增的值。<code>false</code> 代表舊陣列沒有這項值（需要新增到 <code>added</code> 陣列和 <code>oldList</code> 陣列內），<code>true</code> 則代表有（不需改動）。</li></ol><hr><h3 id="watchatmost" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchAtMost" target="_blank" rel="noreferrer">watchAtMost</a> <a class="header-anchor" href="#watchatmost" aria-label="Permalink to &quot;[watchAtMost](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchAtMost)&quot;">​</a></h3><ol><li>若觸發次數超過 <code>count</code>，則會註銷 watch。</li><li><code>watchWithFilter()</code> 回傳的 <code>stop</code> 是註銷 watch 的函數。</li></ol><hr><h3 id="watchdebounced" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchDebounced" target="_blank" rel="noreferrer">watchDebounced</a> <a class="header-anchor" href="#watchdebounced" aria-label="Permalink to &quot;[watchDebounced](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchDebounced)&quot;">​</a></h3><ol><li>額外提供 <code>debounce</code> 和 <code>maxWait</code> 的 <code>watch</code>。</li><li>基本就是使用 <code>watchWithFilter</code> 在參數 <code>eventFilter</code> 傳入 <code>debounceFilter</code>。</li></ol><hr><h3 id="watchignorable" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchIgnorable" target="_blank" rel="noreferrer">watchIgnorable</a> <a class="header-anchor" href="#watchignorable" aria-label="Permalink to &quot;[watchIgnorable](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchIgnorable)&quot;">​</a></h3><ol><li>回傳 <code>ignoreUpdates(updater)</code> 和 <code>ignorePrevAsyncUpdates()</code> 以忽略對 source 的特定更新。</li><li><code>ignoreUpdates(updater)</code>：參數 <code>updater</code>（callback）對於 source 進行改動時不會觸發 watch。</li><li><code>ignorePrevAsyncUpdates()</code>：只適用於非同步刷新 <code>pre</code> 和 <code>post</code>。 如果使用了 <code>flush: &#39;sync&#39;</code>，則 <code>ignorePrevAsyncUpdates()</code> 不會起作用，因為每次更新 source 後，watch 將立即觸發。</li><li>在 <code>flush</code> 為 <code>sync</code> 的情況下，<code>ignorePrevAsyncUpdates = () =&gt; {}</code>。</li><li>source 每次更新時，<code>ignoreCounter</code> 和 <code>syncCounter</code> 會先歸零，接著 <code>syncCounter++</code></li><li>只有使用到 <code>ignoreUpdates(updater)</code> 或 <code>ignorePrevAsyncUpdates()</code> 時 <code>ignoreCounter</code> 才會 <code>&gt; 0</code>。</li></ol><hr><h3 id="watchimmediate" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchImmediate" target="_blank" rel="noreferrer">watchImmediate</a> <a class="header-anchor" href="#watchimmediate" aria-label="Permalink to &quot;[watchImmediate](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchImmediate)&quot;">​</a></h3><ol><li><code>watch</code> 的 <code>{ immediate: true }</code> 版本。</li></ol><hr><h3 id="watchonce" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchOnce" target="_blank" rel="noreferrer">watchOnce</a> <a class="header-anchor" href="#watchonce" aria-label="Permalink to &quot;[watchOnce](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchOnce)&quot;">​</a></h3><ol><li>只觸發一次的 <code>watch</code>。</li><li>在執行指定函式時，利用 <code>nextTick(() =&gt; stop())</code> 去執行 <code>watch</code> 所回傳的停止函式。</li></ol><hr><h3 id="watchpausable" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchPausable" target="_blank" rel="noreferrer">watchPausable</a> <a class="header-anchor" href="#watchpausable" aria-label="Permalink to &quot;[watchPausable](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchPausable)&quot;">​</a></h3><ol><li>可以藉由回傳額外的 <code>pause()</code> 和 <code>resume()</code> 函數來控制。</li><li>利用 <code>watchWithFilter</code> 再包一層判斷 <code>isActive</code> 為 <code>true</code> 才執行原函式的動作。</li><li><code>pause()</code> 將 <code>isActive</code> 設為 <code>false</code>，<code>resume()</code> 將 <code>isActive</code> 設為 <code>True</code>。</li></ol><hr><h3 id="watchthrottled" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchThrottled" target="_blank" rel="noreferrer">watchThrottled</a> <a class="header-anchor" href="#watchthrottled" aria-label="Permalink to &quot;[watchThrottled](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchThrottled)&quot;">​</a></h3><ol><li><code>throttle</code>：在間隔期間內只允許調用一次。</li><li><code>trailing</code>：在間隔期間內觸發，若為 <code>true</code> 則會等待間隔時間結束後調用。若為 <code>false</code> 則就算間隔時間結束也不會調用。</li><li><code>leading</code>：若為 <code>true</code> 則在觸發時立刻調用，若為 <code>false</code> 則在間隔時間結束時才調用。</li><li>基本就是使用 <code>watchWithFilter</code> 在參數 <code>eventFilter</code> 傳入 <code>throttleFilter</code>。</li></ol><hr><h3 id="watchtriggerable" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchTriggerable" target="_blank" rel="noreferrer">watchTriggerable</a> <a class="header-anchor" href="#watchtriggerable" aria-label="Permalink to &quot;[watchTriggerable](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchTriggerable)&quot;">​</a></h3><ol><li>提供在響應式物件沒有變動時也可以手動觸發 watch 的函式。</li><li><code>onCleanup</code>：會在下一次 watch 的 callback 函式執行前執行參數（也是 callback），可用來改變上一次 watch 的 callback 函式作用域內的變數。</li></ol>',55),d=e("p",null,[e("img",{src:c,alt:""})],-1),h=a('<hr><h3 id="watchwithfilter" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/watchWithFilter" target="_blank" rel="noreferrer">watchWithFilter</a> <a class="header-anchor" href="#watchwithfilter" aria-label="Permalink to &quot;[watchWithFilter](https://github.com/vueuse/vueuse/tree/main/packages/shared/watchWithFilter)&quot;">​</a></h3><ol><li>回傳 watch，callback function 使用到 <code>createFilterWrapper()</code>（可以多包一層需要的執行條件）。</li></ol><hr><h3 id="whenever" tabindex="-1"><a href="https://github.com/vueuse/vueuse/tree/main/packages/shared/whenever" target="_blank" rel="noreferrer">whenever</a> <a class="header-anchor" href="#whenever" aria-label="Permalink to &quot;[whenever](https://github.com/vueuse/vueuse/tree/main/packages/shared/whenever)&quot;">​</a></h3><ol><li>參數格式與 watch 相同，差別在於是監測 Boolean 的響應式物件，當物件為 <code>true</code> 時才執行 callback。</li></ol><h2 id="core" tabindex="-1">Core <a class="header-anchor" href="#core" aria-label="Permalink to &quot;Core&quot;">​</a></h2>',7),A=JSON.parse('{"title":"VueUse","description":"","frontmatter":{},"headers":[],"relativePath":"notes/front-end/vueuse-notes.md"}'),b={name:"notes/front-end/vueuse-notes.md"},D=Object.assign(b,{setup(m){return(y,g)=>(t(),l("div",null,[i,o(s,null,{default:r(()=>[p]),_:1}),u,o(s,null,{default:r(()=>[d]),_:1}),h]))}});export{A as __pageData,D as default};
